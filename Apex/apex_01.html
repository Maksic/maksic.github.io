<!DOCTYPE html>
<html>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-153620444-1');
</script>
<head>
  <meta charset="UTF-8">
  <title>CMS Apex: ЛР01</title>
  <link rel="stylesheet" href="../assets/fonts.css">
  <link rel="stylesheet" href="../assets/style.css">
  <link rel="stylesheet" href="../assets/darcula.css">
</head>
<body>
  <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-153620444-1"></script>

<section class="header">
  <div class="header__content">
    <div class="header__subject">Apex</div>
    <div class="header__id">ЛР01</div>
  </div>
</section>

<section class="task">
  <div class="task__statement">
    Для начала работы в APEX необходимо зайти на главную страницу сервиса по <a class="task__link" target="_blank" href="apex.oracle.com/en">адресу</a>, нажать кнопку Get Started for Free и зарегистрироваться через кнопку Request a Free Workspace.<br>
    • Имя рабочей области (Workspase) – фамилия студента в транслитерации. Транслитерация здесь и далее – это запись русскоязычного текста латинскими буквами, например, фамилия Иванов запишется, как Ivanov.<br>
    • Логин и пароль – произвольные. Рекомендуется имена рабочей области, логина и пароля записать и сохранить, поскольку они будут использо-ваться всякий раз при выполнении лабораторных работ.<br>
    • Почта – на неё будет выслано письмо с подтверждением, после чего вы получите рабочую область. Зайдите в полученное письмо и нажмите Create Workspace.
  </div>
</section>

<section class="task">
  <div class="task__statement">
    Ознакомьтесь со структурой главной страницы<br>
    <img src="https://i.ibb.co/VWL7nJ2/2019-11-29-13-32-51.png">
  </div>
</section>

<section class="task">
  Рассмотрим для начала технологию создания простых, не связанных между собой, таблиц в APEX на примере таблиц Countries и Locations:
  <div class="task__statement">
    1. Запуск мастера создания таблиц:<br>
    1) Откройте SQL Workshop и запустите Object Browser.<br>
    2) Щелкните по кнопке Create (плюсик) в правом верхнем углу страницы. Отобразится список типов объектов БД, которые можно создать.<br>
    3) Щелкните по ссылке Table. Запустится мастер создания таблицы. Вверху в виде линейного графика отражаются шаги создания таблицы. Активный шаг – Columns.<br>
    4) В поле Table Name введите название таблицы - Countries:<br>
    5) Поля Column Name (Имя столбца), Type (Тип Данных), Precision (Точность, Максимальный размер), Scale (Размер, Количество знаков после запятой), Not Null (Обязательное) предназначены для описания столбцов создаваемой таблицы. Добавьте описания следующих столбцов:<br>
    • Столбец с названием country_id, тип данных – Number(4), обязательный. В этом столбце будет храниться уникальный числовой идентификатор страны.<br>
    • Столбец с названием country_name, тип данных – Varchar2(20), обязательный. В этом столбце будет храниться название страны.<br>
    • Нажмите Next.<br>
    6) На шаге Primary Key:<br>
    • В поле Primary Key выберите Populated from a new sequence (значения столбца первичного ключа будут браться из нового объекта-последовательности). Последовательность (Sequence) – это объект БД, который используется для генерации уникальных числовых значений.<br>
    • В полях Primary Key Constraint Name (Название ограничения целостности первичного ключа) и Sequence Name (Название последовательности) оставьте значения по умолчанию, сгенерированные APEX.<br>
    • В поле Primary Key (Первичный ключ) выберите столбец country_id.<br>
    • Нажмите Next.<br>
    7) Шаг Foreign Key (Внешний ключ) пропустите (т.е. нажмите Next), т.к. в создаваемой таблице пока нет ссылок на другие таблицы.<br>
    8) На шаге Constraints (Ограничения целостности) добавьте уникальный ключ, определенный на столбце country_name:<br>
    • Выберите радиокнопку Unique (Уникальный ключ).<br>
    • В появившееся ниже поле-список Key Column(s) (Столбцы ключа) перенесите столбец country_name.<br>
    • В поле Name должно быть указано название создаваемого ограничения целостности. Это имя должно быть уникальным в БД. Оставьте значение, предлагаемое по умолчанию.<br>
    • Нажмите кнопку Add, чтобы добавить ограничение в список ограничений целостности создаваемой таблицы.<br>
    • Нажмите Next.<br>
    9) На шаге Confirm можно просмотреть сгенерированный мастером SQL-скрипт по созданию таблицы, щелкнув по ссылке SQL. Подтвердите создание таблицы, нажав на кнопку Create Table.<br>
    Созданная таблица появится в списке таблиц. Для выбранной таблицы в центральной части Object Browser отображается ее детальное описание, организованное в виде вкладок (Table, Data, Indexes, Model, Constraints, …). На каждой вкладке представлены кнопки с операциями, которые можно совершать над таблицей (например, на вкладке Table: Add Column, Modify Column и т.д.).
  </div>
   <div class="task__statement">
    2. Изучите содержимое вкладок описания созданной таблицы.
  </div>
  <div class="task__statement">
    3. Найдите и изучите описание созданного объекта-последовательности (Sequences).
    <img src="https://i.ibb.co/728XJ4R/2019-11-29-13-48-35.png">
  </div>
</section>

<section class="task">
 <div class="task__statement">
  1. Аналогичным образом создайте новую таблицу, предназначенную для хранения сведений о местах размещения отделений торговой корпорации:<br>
  • Название таблицы - Locations.<br>
  • В таблице должны быть определены столбцы следующим образом:<br>
  location_id - Number(4), обязательный,<br>
  city - Varchar2(40), обязательный,<br>
  country_id - Number(4),<br>
  postal_code – Number(6),<br>
  street_address - Varchar2(40),<br>
  state_province - Varchar2(40)<br>
  Обратите внимание на столбец country_id: при формировании связей между таблицами он будет содержать ссылку на страну (на запись в соответствующей таблице). Поэтому он должен иметь тот же тип данных и размер, что и столбец первичного ключа в созданной ранее таблице Countries.<br>
  • В первичный ключ должен входить столбец location_id, значения для него должны браться из новой последовательности, которая должна быть создана.
  </div>
  <div class="task__statement">
    2. Изучите содержимое вкладок описания созданной таблицы. Обратите внимание на вкладку Model. На ней отображаются таблицы, на которые ссылается данная таблица, и которые ссылаются на данную таблицу. Поскольку мы создали простые, не связанные таблицы, в окне показана отдельная таблица.
  </div>
</section>

<section class="solution">
  <pre><code class="javascript"></code></pre>
</section>

<script src="../assets/jquery-3.2.1.min.js"></script>
<script src="../assets/highlight.pack.js"></script>
<script src="../assets/script.js"></script>
</body>
</html>